<Page
    x:Class="UWPExamProject.Pages.WebHttp"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UWPExamProject.Pages"
    xmlns:localHttp="using:UWPExamProject"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid Padding="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>
        
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="6" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
            <Button Content="HTTP GET" Name="btnTestWebHttp" Click="btnTestWebHttp_Click"/>
            <Button Content="Prev" Name="btnPrevPage" Click="btnPrevPage_Click" IsEnabled="False"/>
            <TextBlock x:Name="txtPageInfo" VerticalAlignment="Center" Margin="6,0" Text="Page 0 / 0"/>
            <Button Content="Next" Name="btnNextPage" Click="btnNextPage_Click" IsEnabled="False"/>
        </StackPanel>

        <ListView x:Name="lstWebJsonComments" SelectionChanged="lstWebJsonComments_SelectionChanged" Grid.Row="1" Grid.Column="0" Margin="6">
            <ListView.Header>
                <TextBlock Text="People &amp; Homeworlds" FontSize="18" FontWeight="Bold" Margin="4"/>
            </ListView.Header>
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="local:SWCharacter">
                    <StackPanel Margin="10" Orientation="Vertical" Spacing="2" BorderBrush="#22000000" BorderThickness="0,0,0,1" Padding="0,5,0,10">

                        <TextBlock Text="{x:Bind name}" FontWeight="Bold" FontSize="16"/>
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="{x:Bind gender}"/>
                            <TextBlock Text="{x:Bind birth_year}" FontStyle="Italic" Foreground="Gray"/>
                        </StackPanel>

                        <TextBlock Text="Homeworld" FontWeight="Bold" Foreground="DarkGoldenrod" Margin="0,8,0,2"/>
                        <StackPanel Margin="10,0,0,0" Spacing="2">
                            <TextBlock>
                        <Run Text="Planet:"/>
                        <Run Text="{x:Bind homeworldRecord.name, FallbackValue='Loading...'}" />
                            </TextBlock>

                            <TextBlock TextWrapping="Wrap">
                        <Run Text="Terrain:"/>
                        <Run Text="{x:Bind homeworldRecord.terrain, FallbackValue='...'}" />
                            </TextBlock>

                            <TextBlock>
                        <Run Text="Gravity:"/>
                        <Run Text="{x:Bind homeworldRecord.gravity, FallbackValue='...'}"/>
                            </TextBlock>
                            <TextBlock>
                        <Run Text="Population:"/>
                        <Run Text="{x:Bind homeworldRecord.population, FallbackValue='...'}"/>
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <Grid Grid.Row="1" Grid.Column="1" Margin="6">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Text="Starships" FontSize="18" FontWeight="Bold" Margin="4"/>
            <TextBlock Grid.Row="1" Text="{Binding SelectedItem.name, ElementName=lstWebJsonComments}" FontStyle="Italic" Foreground="Gray" Margin="0,0,0,8"/>

            <ProgressRing x:Name="prgStarships" Grid.Row="1" Width="24" Height="24" IsActive="False" Visibility="Collapsed" Margin="0,0,0,8" HorizontalAlignment="Right"/>

            <ListView x:Name="lstStarships" Grid.Row="2" VerticalAlignment="Stretch">
                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="local:Starship">
                        <Border BorderThickness="0,0,0,1" BorderBrush="#22000000" Padding="6">
                            <StackPanel Orientation="Vertical" Spacing="2">
                                <TextBlock Text="Name:" FontWeight="Bold" Foreground="Gray" Margin="0,6,0,0"/>
                                <TextBlock Text="{x:Bind name}" FontStyle="Italic" FontSize="14"/>
                                <TextBlock Text="Model:" FontWeight="Bold" Foreground="Gray" Margin="0,6,0,0"/>
                                <TextBlock Text="{x:Bind model}" FontStyle="Italic" />
                                <TextBlock Text="Manufacturer:" FontWeight="Bold" Foreground="Gray" Margin="0,6,0,0"/>
                                <TextBlock Text="{x:Bind manufacturer}" FontStyle="Italic" TextWrapping="WrapWholeWords" />
                                <TextBlock Text="Class:" FontWeight="Bold" Foreground="Gray" Margin="0,6,0,0"/>
                                <TextBlock Text="{x:Bind starship_class}" FontStyle="Italic" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>
    </Grid>
</Page>
